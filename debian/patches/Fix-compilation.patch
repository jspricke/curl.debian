From: Jochen Sprickerhof <jspricke@debian.org>
Date: Thu, 4 Jan 2024 09:02:22 +0100
Subject: Fix compilation

---
 lib/vtls/openssl.c | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/lib/vtls/openssl.c b/lib/vtls/openssl.c
index e336c2a..c00194d 100644
--- a/lib/vtls/openssl.c
+++ b/lib/vtls/openssl.c
@@ -3861,7 +3861,7 @@ static CURLcode ossl_connect_step1(struct Curl_cfilter *cf,
     else {
       struct Curl_dns_entry *dns = NULL;
 
-      dns = Curl_fetch_addr(data, connssl->hostname, connssl->port);
+      dns = Curl_fetch_addr(data, connssl->peer.hostname, connssl->port);
       if(!dns) {
         infof(data, "ECH: requested but no DNS info available");
         if(data->set.tls_ech == CURLECH_HARD)
@@ -3911,9 +3911,9 @@ static CURLcode ossl_connect_step1(struct Curl_cfilter *cf,
 #else
     if(trying_ech_now && outername) {
       infof(data, "ECH: inner: '%s', outer: '%s'",
-            hostname, outername);
+            connssl->peer.hostname, outername);
       result = SSL_ech_set_server_names(backend->handle,
-                                    hostname, outername,
+                                    connssl->peer.hostname, outername,
                                     0 /* do send outer */);
       if(result != 1) {
         infof(data, "ECH: rv failed to set server name(s) %d [ERROR]", result);
